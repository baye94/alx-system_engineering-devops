#!/usr/bin/env bash
# Ignore SC2086 as per instructions

# Function to retrieve subdomain info
get_subdomain_info() {
    local domain=$1
    local sub=$2
    result=$(dig ${sub}.${domain} | grep -A1 "ANSWER SECTION:" | tail -n1)
    record_type=$(echo $result | awk '{print $4}')
    destination=$(echo $result | awk '{print $5}')
    echo "The subdomain ${sub} is a ${record_type} record and points to ${destination}"
}

# Main logic
domain=$1
subdomain=$2

# Check if subdomain is provided
if [ -z "$subdomain" ]; then
    get_subdomain_info $domain www
    get_subdomain_info $domain lb-01
    get_subdomain_info $domain web-01
    get_subdomain_info $domain web-02
else
    get_subdomain_info $domain $subdomain
fi
